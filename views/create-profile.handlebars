{{>nav}}
<script type="text/javascript">
    function checkSelected() {
        let val = document.getElementById("instruments").value;
        let opts = document.getElementById('instrument-list').childNodes;
        for (let i = 0; i < opts.length; i++) {
            if (opts[i].value === val) {
                addSelection(val);
                break;
            }
        }
    }

    function addSelection(inst) {
        let selection = document.getElementById("instrument-selection");
        let item = document.createElement('div');
        item.className = 'instrument-selection-item';
        item.id = inst;
        item.innerHTML = `
            <div class="instrument-selection-text">${inst}</div>
            <select class="selection-level" name="selection-level" id="selection-level-${inst.toLowerCase()}">
                <option disabled selected value> -- Skill Level -- </option>
                <option value="Beginner">Beginner</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
                <option value="Expert">Expert</option>
                <option value="Master">Master</option>
            </select>
            <div class="delete-selection" onclick="remove(this)">X</div>
        `;

        selection.appendChild(item);
    }

    function remove(item) {
        item.parentNode.remove();
    }

</script>
<main>
    <div class="main-container">
        <div class="create-profile-header">
            <h1>Welcome to the club, {{user.FirstName}}!</h1>
            <p>You're on your way to connect with other awesome musicians like yourself!</p>
            <p>Let's find out a little bit more about you first.</p>
        </div>
        <div class="orbit" role="region" aria-label="Create Profile Orbit" data-orbit data-auto-play="false">
            <div class="orbit-wrapper">
            <div class="orbit-controls">
            <button class="orbit-previous"><span class="show-for-sr">Previous Slide</span>&#9664;&#xFE0E;</button>
            <button class="orbit-next"><span class="show-for-sr">Next Slide</span>&#9654;&#xFE0E;</button>
            </div>
            <ul class="orbit-container">
            <li class="is-active orbit-slide">
                <div id="profile-form">
                    <form>
                        <table>
                            <tr>
                            <h3>Step 1: Instruments</h3>
                                <td>
                                    <label for="instruments">
                                        What instrument(s) do you play?
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input placeholder="Select an Instrument" list="instrument-list" type="text" id="instruments" oninput="checkSelected()">
                                    <datalist id="instrument-list">
                                        {{#each instruments}}
                                        <option data-value="{{InstrumentKey}}" value="{{Instrument}}">
                                        {{/each}}
                                    </datalist>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div id="instrument-selection">

                                    </div>
                                </td>
                            </tr>
                        </table>
                    </form>
                </div>
            </li>
            <li class="orbit-slide">
                <div id="profile-form">
                    <form>
                        <table>
                            <tr>
                            <h3>Step 2: Samples</h3>
                                <td>
                                    <label for="workSamples">
                                        Enter a Youtube or Soundcloud URL:
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="text" id="workSamples">
                                </td>
                            </tr>
                            <tr>
                            </tr>
                        </table>
                    </form>
                </div>
            </li>
            <li class="orbit-slide">
                <div id="profile-form">
                    <form method="post" action="/profile/basic/create">
                        <table>
                            <h3>Step 3: Basic Info</h3>
                            <tr>
                                <td>
                                    <label for="ArtistName">
                                        What is your band or artist name?
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input placeholder="Band or artist name" type="text" id="ArtistName" name="ArtistName">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="zipCode">
                                        What is your zip code?
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input placeholder="Zip code" type="text" pattern="[0-9]{5}" id="zipCode" name="zipCode" required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="phoneNumber">
                                        What is the best phone number to reach you at?
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input placeholder="Phone number" type="number" id="phoneNumber" name="phoneNumber" required>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="webAddress">
                                        Do you have a website?
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input placeholder="Website URL" type="text" id="webAddress" name="webAddress">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>
                                        Are you currently looking for a spot in a band?
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="radio" id="yesLooking" name="lookingForWork" value="1" checked>
                                    <label for="yesLooking">Yes</label>
                                    <input type="radio" id="notLooking" name="lookingForWork" value="0">
                                    <label for="notLooking">No</label>
                                </td>
                            </tr>
                        </table>
                        <div class="create-profile">
                            <button class="button success large expanded" id="createProfileButton" type="submit">Create Your Profile</button>
                        </div>
                    </form>
                </div>
            </li>
            </ul>
        </div>
        </div>
    </div>
</main>

